.ProjectsWrap, .ProjectsWrap--featured {
  font-family: 'GT Pressura';
  font-size: 16.5px;
  display: flex;
  flex-wrap: wrap;

  p {
    flex: 1;

    @media (max-width: $small) {
      font-size: 14px;
    }
  }

  & > li {
    padding: 15px;
    display: flex;

    @media (max-width: $large) {
      padding: 11px;
    }

    @media (max-width: $medium) {
      padding: 0;
      margin-bottom: 20px;

      &:last-child {
        margin-bottom: 0;
      }
    }
  }

  .Register {
    opacity: 0;
    position: absolute;
    top: 50%;
    left: 0;
    padding: 0;
    margin: 0;
    overflow: visible;
  }

  p, ul, a, h3, .Register {
    transition: all .3s ease-out;

    &:before {
      transition: all .3s ease-out;
    }
  }

  .Link--box {
    padding: 40px;
    display: block;
    transition: none;
    transition: all 1.2s ease-in-out;
    font-weight: bold;
    display: flex;
    flex-direction: column;

    @media (max-width: $small) {
      padding: 35px 30px;
    }

    &:hover {
      .Link--faux {
        &:before {
          left: -25%;
          width: 130%;
          height: 1em;
          bottom: -4px;
        }
      }
    }
  }

  .Link--faux {
    &:before {
      transition: all .3s ease-out;
    }
  }

  .meta {
    display: flex;
    font-weight: bold;

    @media (max-width: $small) {
      font-size: 14px;
    }

    .date {
      flex: 1;
      transition: all .3s ease-out;
    }

    .view {
      text-align: right;
      transition: all .3s ease-out;
    }
  }
}

.ProjectsWrap {
  color: $navy;

  & > li {
    display: flex;
    position: relative;
    
    @media (min-width: $large-up) {
      width: 33.333%;

      &:nth-child(3n+1){
        .topLeft {
          opacity: 1;
          visibility: visible;
        }
      }

      &:nth-child(3n+3){
        .bottomRight {
          opacity: 1;
          visibility: visible;
        }
      }
    }

    @media (max-width: $large) {
      width: 50%;

      &:nth-child(2n+1){
        .topLeft {
          opacity: 1;
          visibility: visible;
        }
      }

      &:nth-child(2n+2){
        .bottomRight {
          opacity: 1;
          visibility: visible;
        }
      }
    }

    @media (max-width: $medium) {
      width: 100%;

      &:nth-child(1n+1){
        .topLeft {
          opacity: 1;
          visibility: visible;
        }
      }

      &:nth-child(1n+1){
        .bottomRight {
          opacity: 1;
          visibility: visible;
        }
      }
    }
  }

  $bracket-leg: 15px;
  $bracket-color: $light-purple;

  .bracket {
    border: 1px solid $bracket-color;
    width: 5px;
    height: 5px;
    position: absolute;
    z-index: 11;
    visibility: hidden;
    opacity: 0;
    transition: all .3s ease;

    &.topLeft {
      top: -3px;
      left: -3px;
    }

    &.topRight {
      top: -3px;
      right: -3px;
      transform: rotate(90deg);
    }

    &.bottomRight {
      bottom: -3px;
      right: -3px;
      transform: rotate(180deg);
    }

    &.bottomLeft {
      bottom: -3px;
      left: -3px;
      transform: rotate(270deg);
    }

    &:before, &:after {
      position: absolute;
      background: $bracket-color;
      content: '';
    }
    &:before {
      height: $bracket-leg;
      width: 1px;
      top: 4px;
      left: 1px;
    }

    &:after {
      width: $bracket-leg;
      height: 1px;
      top: 1px;
      left: 4px;
    }
  }

  .Link--box {
    border: 1px solid $border-grey;
    color: $navy;
    background-position: -300px 0;
    transition: all .3s ease-out;
    flex: 1;
    display: flex;
    flex-direction: column;

    a, .Link--faux {
      color: $navy;
      transition: all .3s ease;

      &:before {
        background:  darken($polar-purple, 1%);
      }
    }

    &:hover {
      border-color: #EBE8F0;
      background: linear-gradient(to bottom, $polar-purple 50%, rgba(255,255,255,0) 100%);
      @include linear-gradient(90deg, $polar-purple 0%, $transparent 100%);
      background-repeat: no-repeat;
      background-position: 0 0;
      cursor: pointer;
      transition: all .8s ease-out;

      // .bracket {
      //   opacity: 1;
      //   visibility: visible;
      //   transition: all .8s ease;
      // }

      .topLeft {
        opacity: 1;
        visibility: visible;
        transition: all .8s ease;
      }

      .Register {
        opacity: 1;
      }

      h3 {
        color: $neon-purple;
      }

      p {
        opacity: .2;
        color: #8F7CB2;
      }

      .date {
        opacity: .15;
      }

      ul {
        color: #8F7CB2;

        a, .Link--faux {
          color: $neon-purple;
        }
      }
    }
  }

  p {
    opacity: .4;
    padding-bottom: 55px;
    display: flex;
    //align-items: center;

    @media (max-width: $medium) {
      padding-bottom: 30px;
    }
  }
}

.ProjectsWrap--featured {
  & > li {
    flex: 1;
    overflow: hidden;
    @media (max-width: $medium) {
      width: 100%;
      flex: inherit;
    }
  }

  .Link--box {
    position: relative;

    &:after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      background:rgba(255,255,255,0);
      transition: background .4s ease;
      width: 100%;
      height: 100%;
      z-index: -1;

       &:hover {
        transition: background 1s ease;
      }
    }

    &:hover {
      p {
        opacity: .5;
      }
    }
  }

  p {
    padding-bottom: 75px;
    @media (max-width: $medium) {
      padding-bottom: 30px;
    }
  }

  .meta {
    a {
      &:before {
        background: white;
      }
    }

    .view {
      flex: 1;
    }
  }

  .Project--blue {
    .Link--box {
      @include linear-gradient(35deg, $polar-purple 0%, $transparent 65%);
      border: 1px solid $featured-purple;
      color: $light-purple;
      background-repeat: no-repeat;

      h3 {
        color: $neon-purple;
      }

      &:hover {
        //background-position: -160px 0;

        &:after {
          background:$polar-purple;
          transition: background 1s ease;
        }

        .date {
          opacity: .15;
        }
        .Link--faux {
          &:before {
            background: darken($polar-purple-light, 1.3%);
          }
        }
      }
    }
    .Link--faux {
      color: $neon-purple;
      &:before {
        background: $polar-purple-light;
      }
    }
  }

  .Project--green {
    .Link--box {
      @include linear-gradient(35deg, $polar-green 0%, $transparent 75%);
      color: $light-green;
      border: 1px solid $featured-green;
      background-repeat: no-repeat;

      h3 {
        color: $neon-green;
      }

      &:hover {
        //background-position: -160px 0;

        &:after {
          background:$polar-green;
          transition: background 1s ease;
        }

        .date {
          opacity: .3;
        }
        .Link--faux {
          &:before {
            background: darken($polar-green-light, 2%);
          }
        }
      }
    }
    .Link--faux {
      color: $neon-green;
      &:before {
        background: $polar-green-light;
      }
    }
  }
}